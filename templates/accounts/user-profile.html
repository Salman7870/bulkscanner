{% extends 'base.html' %} {% load static %} {% block body %}
<title>User Profile</title>
<div class="page-wrapper">
  <div class="container-xl">
    <!-- Page title -->
    <div class="page-header d-print-none">
      <div class="row align-items-center">
        <div class="col">
            <!-- Page pre-title -->
            <div class="page-pretitle">
              Home
            </div>
            <h2 class="page-title">
              
            </h2>
          <br>

          <!--User information updated message starts-->
   
          {% for message in messages%}
          {% if 'updated' in message.tags %}

          <div class="alert alert-important alert-success alert-dismissible" role="alert">
            <div class="d-flex">
              <div>
            
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                  <path d="M5 12l5 5l10 -10"></path>
              </svg>
              </div>
              <div>
              {{message}}
              </div>
            </div>
            <a class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="close"></a>
          </div>
          {% endif %}
          {% endfor %}
          
          <!--User information updated message ends-->

          

          <!--inavlid password Messages start-->
          {% for message in messages %}
          {% if 'invalid_password' in message.tags %}
          <div class="alert alert-warning" role="alert">
            <h4 class="alert-title">Uh oh, something went wrong</h4>
            <div class="text-muted">{{message}}</div>
          </div>
          {% endif %}
          {% endfor %}
          <!--invalid password Messages End-->

          <!--password_not_matched Messages start-->
          {% for message in messages %}
          {% if 'password_not_matched' in message.tags %}
          <div class="alert alert-warning" role="alert">
            <h4 class="alert-title">Uh oh, something went wrong</h4>
            <div class="text-muted">{{message}}</div>
          </div>
          {% endif %}
          {% endfor %}
          <!--password_not_matched Messages End-->

        </div>
      </div>
    </div>
  </div>

  <div class="page-body">
    <div class="container-xl">
      <div class="row row-cards">
        <div class="col-7">
          <form action="{% url 'user_profile' %}" method="POST" class="card" enctype="multipart/form-data" >
            {% csrf_token %}
            <div class="card-header">
              <h4 class="card-title">User Profile Information</h4>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <div class="row">
                    <div class="col-md-6 col-xl-12">     
                      <label class="form-label">User ID</label>
                      <div class="input-icon mb-3">
                        <span class="input-icon-addon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-id-badge" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M5 3m0 3a3 3 0 0 1 3 -3h8a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-8a3 3 0 0 1 -3 -3zm7 7m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0m0 -7h4m-5 12h6"></path>
                         </svg>
                        </span>
                        <input type="text" class="form-control" value="{{user_id}}" disabled>
                      </div>
                      
                      <label class="form-label">Username</label>
                      <div class="input-icon mb-3">
                        <span class="input-icon-addon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-at" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m8 0v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"></path>
                         </svg>
                        </span>
                        <input type="text" class="form-control" value="{{username}}" disabled>
                      </div>

                      <label class="form-label">Joining Date</label>
                      <div class="input-icon mb-3">
                        <span class="input-icon-addon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4m-1 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m1 -15v4m-8 -4v4m-4 4h16m-1 5.496v1.504l1 1"></path>
                         </svg>
                        </span>
                        <input type="text" class="form-control" value="{{date_joined}}" disabled>
                      </div>

                      <label class="form-label">First Name</label>
                      <div class="input-icon mb-3">
                        <span class="input-icon-addon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0m9 -2m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0m-2.832 8.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855"></path>
                         </svg>
                        </span>
                        <input type="text" class="form-control" value="{{first_name}}" name="firstname">
                      </div>

                      <label class="form-label">Last Name</label>
                      <div class="input-icon mb-3">
                        <span class="input-icon-addon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0m9 -2m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0m-2.832 8.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855"></path>
                         </svg>
                        </span>
                        <input type="text" class="form-control" value="{{last_name}}" name="lastname">
                      </div>

                      <label class="form-label">Email</label>
                      <div class="input-icon mb-3">
                        <span class="input-icon-addon">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-mail" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2zl9 6l9 -6"></path>
                         </svg>
                        </span>
                        <input type="email" class="form-control" value="{{email}}" name="email">
                      </div>

                    </div>

                    

                    
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer text-end">
              <div class="d-flex">
                <button type="submit" class="btn btn-primary ms-auto">
                  Update Information
                </button>
              </div>
            </div>
          </form>
        </div>

        <div class="col-5">
          <form action="{% url 'update_password' %}" method="POST" class="card" enctype="multipart/form-data" >
            {% csrf_token %}
            <div class="card-header">
              <h4 class="card-title">Update password</h4>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <div class="row">
                    <div class="col-md-6 col-xl-12">     
                      <label class="form-label">Current password</label>
                      <div class="input-icon mb-3">
                        <input type="password" class="form-control" placeholder="Enter your current password..." name="current_password" required>
                      </div>
                      
                      <label class="form-label">New password</label>
                      <div class="input-icon mb-3">
                        <input type="password" class="form-control" placeholder="Enter your new password..." name="new_password" required>
                      </div>

                      <label class="form-label">Confirm password</label>
                      <div class="input-icon mb-3">
                        
                        <input type="password" class="form-control"  placeholder="Enter your new password again..." name="confirm_password" required>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-footer text-end">
              <div class="d-flex">
                <a href="{% url 'reset_password' %}" class="btn btn-link">Reset Password</a>
                <button type="submit" class="btn btn-primary ms-auto">
                  Update password
                </button>
              </div>
            </div>
          </form>
        </div>
        

      </div>
    </div>

    
  </div>

  {% endblock body %}
</div>
